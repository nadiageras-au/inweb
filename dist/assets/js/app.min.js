!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/selector-engine.js"),require("./util/backdrop.js"),require("./util/component-functions.js"),require("./util/focustrap.js"),require("./util/index.js"),require("./util/scrollbar.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/backdrop","./util/component-functions","./util/focustrap","./util/index","./util/scrollbar"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Modal=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Backdrop,e.ComponentFunctions,e.Focustrap,e.Index,e.Scrollbar)}(this,function(e,i,s,t,n,o,a,l){"use strict";const r=".bs.modal";r,r;const d="hidden"+r,h="show"+r;r,r,r,r,r;r;const c="modal-open",m="show",_="modal-static";const u={backdrop:!0,focus:!0,keyboard:!0},g={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class p extends e{constructor(e,t){super(e,t),this._dialog=s.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new l,this._addEventListeners()}static get Default(){return u}static get DefaultType(){return g}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||i.trigger(this._element,h,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(c),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||i.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(m),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){i.off(window,r),i.off(this._dialog,r),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new t({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new o({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;var t=s.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),a.reflow(this._element),this._element.classList.add(m);this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,i.trigger(this._element,"shown.bs.modal",{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){i.on(this._element,"keydown.dismiss.bs.modal",e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),i.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),i.on(this._element,"mousedown.dismiss.bs.modal",t=>{i.one(this._element,"click.dismiss.bs.modal",e=>{this._element===t.target&&this._element===e.target&&("static"===this._config.backdrop?this._triggerBackdropTransition():this._config.backdrop&&this.hide())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(c),this._resetAdjustments(),this._scrollBar.reset(),i.trigger(this._element,d)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){var e=i.trigger(this._element,"hidePrevented.bs.modal");if(!e.defaultPrevented){e=this._element.scrollHeight>document.documentElement.clientHeight;const t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(_)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(_),this._queueCallback(()=>{this._element.classList.remove(_),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){var e,t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),s=0<i;s&&!t&&(e=a.isRTL()?"paddingLeft":"paddingRight",this._element.style[e]=i+"px"),!s&&t&&(e=a.isRTL()?"paddingRight":"paddingLeft",this._element.style[e]=i+"px")}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){var e=p.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](i)}})}}return i.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(e){const t=s.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),i.one(t,h,e=>{e.defaultPrevented||i.one(t,d,()=>{a.isVisible(this)&&this.focus()})});e=s.findOne(".modal.show");e&&p.getInstance(e).hide(),p.getOrCreateInstance(t).toggle(this)}),n.enableDismissTrigger(p),a.defineJQueryPlugin(p),p});